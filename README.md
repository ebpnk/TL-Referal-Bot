# TL-Referal-Bot

Бот реферальной системы для телеграм

# Запуск

1. Установить Python (PC или VPS/VDS)
2. Установить pip install pyTelegramBotAPI
3. Запустить python3 StartTL.py

# Первый запуск
После первого запуска бот автоматически создаст файл ```config.json```

# config.json
```
{
    "TOKEN": "YOUR_TELEGRAM_BOT_TOKEN" //Сюда токен бота
}
```
Перезапускам бота.

# Настройка бонусов
1. В боте найти кнопку  ```Бонусы```
2. Бот создаст конфиг ```bonuses.json```
3. Настроить бонусы
4. Перезагрузить бота

# bonuses.json
```
{
    "bonuses": {
        "5": { //За сколько можно купить данный код
            "description": "Скидка 5% на следующую покупку", //Название продукта
            "codes": [
                "DELIVERYFREE11", // Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "DELIVERYFREE12",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "DELIVERYFREE13"// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
            ]
        },
        "10": { //За сколько можно купить данный код
            "description": "Бесплатная доставка", //Название продукта
            "codes": [
                "DELIVERYFREE1",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "DELIVERYFREE2",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "DELIVERYFREE3"// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
            ]
        },
        "20": { //За сколько можно купить данный код
            "description": "Подарочный сертификат на 500 рублей", //Название продукта
            "codes": [
                "GIFTCARD500A",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "GIFTCARD500B",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "GIFTCARD500C"// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
            ]
        },
        "30": { //За сколько можно купить данный код
            "description": "Подарочный сертификат на 5000 рублей", //Название продукта
            "codes": [
                "GIFTCARD500A",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "GIFTCARD500B",// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
                "GIFTCARD500C"// Код за балы [Можно сделать много] он удалится после выдачи пользователю после покупки
            ]
        }
    }
}
```
# Конфиг пользователей user_data.json
```
{
    "11546846": { // id пользователя
        "referral_code": "QHN271", //Уникальный код пользователя
        "balance": 1, // Баланс [1 реферал - 1 бал]
        "used_codes": [
            "1BN6IB" // Реферал пользователя
        ],
        "received_bonuses": [
            "CODE124", //код за бонусы
            "CODE125", //код за бонусы
            "GIFTCARD500C", //код за бонусы
            "DELIVERYFREE3", //код за бонусы
            "CODE123", //код за бонусы
            "CODE125" //код за бонусы
        ]
    },
    "702116486": {
        "referral_code": "1BN6IB",
        "balance": 0,
        "used_codes": []
    }
}
```

Изменение конфига работает без перезапуска

Реферал работает только на приём кода

Пользлватель получает ```код``` - Получает бонус

Пользователь дал ```Свой код``` - Не получил бонус 
